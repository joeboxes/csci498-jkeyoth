/*
 * The MazeGame class implements the Maze game.  (This is the fail safe version
 * in the event that the 3D version does NOT work)
 *
 * <DESCRIPTION GOES HERE>
 *
 */
class MazeGame {
	// Variables
	field Character character;
	/*
	 *      Value   Description
	 *        0        none
	 *        1         up
	 *        2        down
	 *        3        left
	 *        4        right
	 */
	field int direction;

	field Grid world;

	// Constructor
	constructor MazeGame new() {
		let character = Character.new(world);
		let direction = 0;
		return this;
	}

	// Deallocates the object's memory
	method void dispose() {
		do character.dispose();
		do Memory.deAlloc(this);
		return;
	}

	/*
	 * Starts the game.  Handles user inputs and moves the character as 
	 * needed.
	 */
	method void run() {
		// Variables
		var boolean exit;
		var char key;

		let exit = false;

		while (~exit) {
			// wait for a key to be pressed
			while (key = 0) {
				let key = Keyboard.keyPressed();
				do moveCharacter();
			}

			if (key = 81) { let exit = true; }
			if (key = 131) { let direction = 1; }
			if (key = 133) { let direction = 2; }
			if (key = 130) { let direction = 3; }
			if (key = 132) { let direction = 4; }

			// wait for the key to be released
			while (~(key = 0)) {
				let key = Keyboard.keyPressed();
				do moveCharacter();
			}
		}

		return;
	}

	/*
	 * Move the character by 1 in the current direction
	 */
	method void moveCharacter() {
		return;
	}
}
